#!/usr/bin/env node
var commander = require('commander');
require('colors');

function list(val) {
    return val.split(',');
}

commander.
  version(require('../package').version).
  usage('[options] <file/dir>'.red).
  option('-v, --verbose', 'print detail info').
  // option('-l, --list <rules>', 'TESTING : list current rules', list).
  parse(process.argv);

// console.log('process.env: ' + JSON.stringify(process.env));
// console.log(JSON.stringify(commander));
// console.log('list: %j ...' ,commander.list);

// output help and exit if no args found
if (commander.args.length === 0) {
    commander.help();
}

var scanner = require('../lib/catbus').scanner;
scanner(commander);